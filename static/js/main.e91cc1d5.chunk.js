(this["webpackJsonpreact_redux-list-of-todos"]=this["webpackJsonpreact_redux-list-of-todos"]||[]).push([[0],{30:function(e,t,c){},32:function(e,t,c){},33:function(e,t,c){"use strict";c.r(t);var a,n,s=c(11),r=c.n(s),o=c(10),i=c(19),l=c(7),d=c(17),u=c(18),j=function(e){return{type:"currentTodo/SET",payload:e}},b=function(){return{type:"currentTodo/REMOVE"}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"currentTodo/SET":return t.payload;case"currentTodo/REMOVE":return null;default:return e}},f=c(2);!function(e){e.ALL="all",e.ACTIVE="active",e.COMPLETED="completed"}(a||(a={})),function(e){e.SetStatus="filter/setStatus",e.SetQuery="filter/setQuery",e.ClearQuery="filter/clearQuery"}(n||(n={}));var O,m=function(e){return{type:n.SetStatus,payload:e}},p=function(e){return{type:n.SetQuery,payload:e}},x={status:a.ALL,query:""},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"filter/setStatus":return Object(f.a)(Object(f.a)({},e),{},{status:t.payload});case"filter/setQuery":return Object(f.a)(Object(f.a)({},e),{},{query:t.payload});case"filter/clearQuery":return Object(f.a)(Object(f.a)({},e),{},{query:""});default:return e}},y=c(13);!function(e){e.SetTodos="todos/setTodos",e.SetError="todos/setError",e.SetIsLoading="todos/setIsLoading"}(O||(O={}));var N=function(e){return{type:O.SetTodos,payload:e}},g=function(e){return{type:O.SetError,payload:e}},S=function(e){return{type:O.SetIsLoading,payload:e}},T={todos:[],hasError:!1,isLoading:!1},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"todos/setTodos":return Object(f.a)(Object(f.a)({},e),{},{todos:Object(y.a)(t.payload)});case"todos/setError":return Object(f.a)(Object(f.a)({},e),{},{hasError:t.payload});case"todos/setIsLoading":return Object(f.a)(Object(f.a)({},e),{},{isLoading:t.payload});default:return e}},k=Object(l.combineReducers)({currentTodo:h,filter:v,todos:E}),w=Object(l.createStore)(k,Object(d.composeWithDevTools)(Object(l.applyMiddleware)(u.a))),L=c(12),C=c(6),I=c.n(C),Q=c(0),M=(c(28),c(29),c(30),o.b),q=o.c;function A(e){var t,c="https://mate-academy.github.io/react_dynamic-list-of-todos/api"+e+".json";return(t=300,new Promise((function(e){setTimeout(e,t)}))).then((function(){return fetch(c)})).then((function(e){return e.json()}))}var D=c(9),_=c.n(D),P=c(1),V=function(){var e=q((function(e){return e.todos})).todos,t=q((function(e){return e.filter})),c=q((function(e){return e.currentTodo})),n=M(),s=function(e,t,c){var n=Object(y.a)(e);switch(t){case a.ACTIVE:n=n.filter((function(e){return!e.completed}));break;case a.COMPLETED:n=n.filter((function(e){return e.completed}))}return n.filter((function(e){return e.title.toLowerCase().includes(c.toLowerCase())}))}(e,t.status,t.query);return Object(P.jsx)(P.Fragment,{children:0===e.length?Object(P.jsx)("div",{className:"notification is-danger",children:"An error occured when loading data!"}):Object(P.jsxs)("table",{className:"table is-narrow is-fullwidth",children:[Object(P.jsx)("thead",{children:Object(P.jsxs)("tr",{children:[Object(P.jsx)("th",{children:"#"}),Object(P.jsx)("th",{children:Object(P.jsx)("span",{className:"icon",children:Object(P.jsx)("i",{className:"fas fa-check"})})}),Object(P.jsx)("th",{children:"Title"}),Object(P.jsx)("th",{children:" "})]})}),Object(P.jsx)("tbody",{children:s.map((function(e){var t=e.id,a=e.title,s=e.completed;return Object(P.jsxs)("tr",{"data-cy":"todo",children:[Object(P.jsx)("td",{className:"is-vcentered",children:t}),Object(P.jsx)("td",{className:"is-vcentered",children:s&&Object(P.jsx)("span",{className:"icon","data-cy":"iconCompleted",children:Object(P.jsx)("i",{className:"fas fa-check"})})}),Object(P.jsx)("td",{className:"is-vcentered is-expanded",children:Object(P.jsx)("p",{className:_()({"has-text-success":s,"has-text-danger":!s}),children:a})}),Object(P.jsx)("td",{className:"has-text-right is-vcentered",children:Object(P.jsx)("button",{"data-cy":"selectButton",className:"button",type:"button",onClick:function(){return function(e){n(j(e))}(e)},children:Object(P.jsx)("span",{className:"icon",children:Object(P.jsx)("i",{className:_()("far",{"fa-eye":!c,"fa-eye-slash":c})})})})})]},t)}))})]})})},B=function(){var e=q((function(e){return e.filter})),t=e.query,c=e.status,n=M(),s=function(e){n(p(e))},r=Object.values(a);return Object(P.jsxs)("form",{className:"field has-addons",onSubmit:function(e){return e.preventDefault()},children:[Object(P.jsx)("p",{className:"control",children:Object(P.jsx)("span",{className:"select",children:Object(P.jsx)("select",{className:"select-type","data-cy":"statusSelect",value:c,onChange:function(e){return t=e.target.value,void n(m(t));var t},children:r.map((function(e){return Object(P.jsx)("option",{value:e,children:e},e)}))})})}),Object(P.jsxs)("p",{className:"control is-expanded has-icons-left has-icons-right",children:[Object(P.jsx)("input",{"data-cy":"searchInput",type:"text",className:"input",placeholder:"Search...",value:t,onChange:function(e){return s(e.target.value)}}),Object(P.jsx)("span",{className:"icon is-left",children:Object(P.jsx)("i",{className:"fas fa-magnifying-glass"})}),t&&Object(P.jsx)("span",{className:"icon is-right",style:{pointerEvents:"all"},children:Object(P.jsx)("button",{"data-cy":"clearSearchButton","aria-label":"Mute volume",type:"button",className:"delete",onClick:function(){return s("")}})})]})]})},R=c(4),F=(c(32),function(){return Object(P.jsx)("div",{className:"Loader","data-cy":"loader",children:Object(P.jsx)("div",{className:"Loader__content"})})}),J=function(){var e=q((function(e){return e.currentTodo})),t=Object(Q.useState)(!1),c=Object(R.a)(t,2),a=c[0],n=c[1],s=Object(Q.useState)(!1),r=Object(R.a)(s,2),o=r[0],i=r[1],l=Object(Q.useState)(null),d=Object(R.a)(l,2),u=d[0],j=d[1],h=M(),f=function(){var t=Object(L.a)(I.a.mark((function t(){var c;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return n(!0),t.prev=3,t.next=6,a=e.userId,A("/users/".concat(a));case 6:c=t.sent,j(c),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),i(!0);case 13:return t.prev=13,n(!1),t.finish(13);case 16:case"end":return t.stop()}var a}),t,null,[[3,10,13,16]])})));return function(){return t.apply(this,arguments)}}();return Object(Q.useEffect)((function(){f()}),[]),Object(P.jsxs)("div",{className:"modal is-active","data-cy":"modal",children:[Object(P.jsx)("div",{className:"modal-background"}),a&&Object(P.jsx)(F,{}),!a&&!o&&Object(P.jsxs)("div",{className:"modal-card",children:[Object(P.jsxs)("header",{className:"modal-card-head",children:[Object(P.jsx)("div",{className:"modal-card-title has-text-weight-medium","data-cy":"modal-header",children:"Todo #".concat(null===e||void 0===e?void 0:e.id)}),Object(P.jsx)("button",{type:"button","aria-label":"Close modal",className:"delete","data-cy":"modal-close",onClick:function(){return h(b())}})]}),Object(P.jsxs)("div",{className:"modal-card-body",children:[Object(P.jsx)("p",{className:"block","data-cy":"modal-title",children:null===e||void 0===e?void 0:e.title}),Object(P.jsxs)("p",{className:"block","data-cy":"modal-user",children:[Object(P.jsx)("strong",{className:_()({"has-text-success":null===e||void 0===e?void 0:e.completed,"has-text-danger":!(null!==e&&void 0!==e&&e.completed)}),children:null!==e&&void 0!==e&&e.completed?"Done":"Planned"})," by ",Object(P.jsx)("a",{href:"mailto:".concat(null===u||void 0===u?void 0:u.email),children:null===u||void 0===u?void 0:u.name})]})]})]})]})},W=function(){var e=q((function(e){return e})),t=e.todos,c=e.currentTodo,a=M(),n=t.isLoading,s=function(){var e=Object(L.a)(I.a.mark((function e(){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A("/todos");case 3:t=e.sent,a(N(t)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),a(g(!0));case 10:return e.prev=10,a(S(!0)),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,7,10,13]])})));return function(){return e.apply(this,arguments)}}();return Object(Q.useEffect)((function(){s()}),[]),Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("div",{className:"section",children:Object(P.jsx)("div",{className:"container",children:Object(P.jsxs)("div",{className:"box",children:[Object(P.jsx)("h1",{className:"title",children:"Todos:"}),Object(P.jsx)("div",{className:"block",children:Object(P.jsx)(B,{})}),Object(P.jsx)("div",{className:"block",children:n?Object(P.jsx)(V,{}):Object(P.jsx)(F,{})})]})})}),c&&Object(P.jsx)(J,{})]})},z=function(){return Object(P.jsx)(o.a,{store:w,children:Object(P.jsx)(i.a,{children:Object(P.jsx)(W,{})})})};r.a.render(Object(P.jsx)(z,{}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.e91cc1d5.chunk.js.map